<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="generator" content="pandoc" />

  
  
  <title>SimComm</title>

    <script src="index_files/jquery-1.11.3/jquery.min.js"></script>
  <link href="index_files/bootstrap-3.3.2/css/bootstrap.min.css" rel="stylesheet" />
  <script src="index_files/bootstrap-3.3.2/js/bootstrap.min.js"></script>
  <script src="index_files/bootstrap-3.3.2/shim/html5shiv.min.js"></script>
  <script src="index_files/bootstrap-3.3.2/shim/respond.min.js"></script>
  <link href="index_files/highlight-8.4/tomorrow.css" rel="stylesheet" />
  <script src="index_files/highlight-8.4/highlight.pack.js"></script>
  <link href="index_files/fontawesome-4.3.0/css/font-awesome.min.css" rel="stylesheet" />
  <script src="index_files/stickykit-1.1.1/sticky-kit.min.js"></script>
  <script src="index_files/jqueryeasing-1.3/jquery.easing.min.js"></script>
  <link href="index_files/recliner-0.2.2/recliner.css" rel="stylesheet" />
  <script src="index_files/recliner-0.2.2/recliner.min.js"></script>
  <script src="index_files/recliner-0.2.2/onload.js"></script>
  <link href="index_files/packagedocs-0.0.1/pd.css" rel="stylesheet" />
  <script src="index_files/packagedocs-0.0.1/pd.js"></script>
  <script src="index_files/packagedocs-0.0.1/pd-sticky-toc.js"></script>
  
  
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>

  
  <header class="navbar navbar-white navbar-fixed-top" role="banner" id="header">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
                <a href="index.html" class="navbar-brand page-scroll">
        SimComm - A Simulator of Communities
        </a>
      </div>
            <nav class="collapse navbar-collapse" role="navigation">
        <ul class="nav nav-pills pull-right">
<li class="active">
<a href='index.html'>Docs</a>
</li>
<li>
<a href='rd.html'>Package Ref</a>
</li>
<li>
<a href='https://github.com/EricMarcon/SimComm'>Github<i class='fa fa-github'></i></a>
</li>
        </ul>
      </nav>
          </div>
  </header>

  <!-- Begin Body -->
  <div class="container">
    <div class="row">
            <div class="col-md-3" id="sidebar-col">
        <div id="toc">
          <ul>
          <li><a href="#getting-started">Getting started</a></li>
          <li><a href="#demo">Demo</a><ul>
          <li><a href="#conways-game-of-life">Conway’s game of life</a></li>
          </ul></li>
          </ul>
        </div>
      </div>
      <div class="col-md-9" id="content-col">
      
<div id="content-top"></div>
<p>This is a preliminary version of a package designed to simulate spatially-explicit communities.</p>
<div id="getting-started" class="section level1">
<h1>Getting started</h1>
<p>Install the package for <em>R</em> from Github.</p>
<pre class="r"><code>library(&quot;devtools&quot;)
devtools::install_github(&quot;EricMarcon/SimComm&quot;)</code></pre>
</div>
<div id="demo" class="section level1">
<h1>Demo</h1>
<p>The package allows running community models represented by a spatial pattern. The pattern may be a matrix, a grid of points or a point pattern. To add a new model, an R6 class must be created to describe it. It must inherit from one of these base classes, depending on the pattern it relies on:</p>
<ul>
<li><p><code>community_matrixmodel</code> for matrices,</p></li>
<li><p><code>community_gridmodel</code> for point grids.</p></li>
</ul>
<div id="conways-game-of-life" class="section level2">
<h2>Conway’s game of life</h2>
<p>The <code>cm_Conway</code> class is such a model. The community is represented by a logical matrix where each cell is either occupied or not. An occupied cell surivives if its number of neighbors is in the values of the vector <code>to_survive</code>, 2 or 3 by default. An empty cell gets populated if its number of neighbors is in the values of the vector <code>to_generate</code>, 3 by default. The neighborhood may be defined according to <a href="https://en.wikipedia.org/wiki/Von_Neumann_neighborhood">von Neumann</a> or <a href="https://en.wikipedia.org/wiki/Moore_neighborhood">Moore</a>. Default is Moore neighborood of order 1, i.e. the 8 surrounding cells.</p>
<p>Writing a new model consists of defining its fields (here: <code>to_survive</code>, <code>to_generate</code> and <code>neighborhood</code>), its <code>initialize</code> method and a private method named <code>evolve</code>. The <code>evolve</code> methode codes for the evolution of each individual of the community at each step of time. In Conway’s game of life, each occupied cell may survive or die and each empty cell may come to life or not.</p>
<p>A model is used in two steps. It must first be instantiated through its <code>new</code> method. Its initial pattern and the timeline to run it along are the arguments.</p>
<pre class="r"><code>myModel &lt;- cm_Conway$new(pattern=pm_Conway_oscillator(), timeline=0:10)</code></pre>
<p>Several functions allow producing parameterized patterns, see <code>help(patterns)</code>. The <code>pm_Conway_oscillator()</code> function returns a rectangular pattern designed to oscillate when evolving.</p>
<pre class="r"><code>myModel$autoplot()</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" width="624" /></p>
<p>Evolution is launched by the <code>run</code> method. The timeline defines the evolution time: its first value corresponds to the initial patterns, and the <code>evolve</code> method will be run along all other values. Animation on screen is allowed by <code>animate = TRUE</code>. The time between two steps is defined by <code>sleep</code>, in seconds. If <code>save</code> is set to <code>TRUE</code>, then all patterns are saved.</p>
<pre class="r"><code>myModel$run(animate = FALSE, sleep=0.1, save=TRUE)</code></pre>
<p>Saving patterns allows plotting them at a chosen time:</p>
<pre class="r"><code>par(mfrow=c(1,3))
myModel$plot(time=5)
myModel$plot(time=6)
myModel$plot(time=7)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="624" /></p>
<pre class="r"><code>par(mfrow=c(1,1))</code></pre>
<p>The <code>along_time</code> method allows applying a function to all saved patterns and return its value along time. The number of occupied cells is constant along the evolution of the model. The <code>sum</code> function is used to count them:</p>
<pre class="r"><code>library(magrittr)
library(ggplot2)
myModel$along_time(sum) %&gt;% ggplot() +
  geom_point(aes(x=x, y=y)) +
  labs(x=&quot;Time&quot;, y=&quot;Number of living cells&quot;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="624" /></p>
</div>
</div>


      </div>
    </div>
  </div>

  <div id="footer">
    <div class="container">
      <div class="col-md-6">
              </div>
      <div class="col-md-6">
        <p class="pull-right">created with <a href="https://github.com/hafen/packagedocs">packagedocs</a>
                  </p>
      </div>
    </div>
  </div>

  
</body>
</html>
